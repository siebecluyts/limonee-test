<!DOCTYPE html>
<html>
    <head>
        <title>Limonee - planning</title>
        <link rel="stylesheet" href="../styles.css">
        <meta charset="UTF-8">
        <meta name="description" content="Drink de beste Limonee!">
        <meta name="keywords" content="Limonade, limonee, limone, lekker, zoet, fris">
        <meta name="author" content="limonee">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.glitch.global/638bdc36-d676-479e-8f39-ff81bc2e3bb1/contact%2Fimages%2Fapple-touch-icon.png?v=1735472049644">
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.glitch.global/638bdc36-d676-479e-8f39-ff81bc2e3bb1/contact%2Fimages%2Ffavicon-32x32.png?v=1735472050279">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.glitch.global/638bdc36-d676-479e-8f39-ff81bc2e3bb1/contact%2Fimages%2Ffavicon-16x16.png?v=1735472049971">
<link rel="manifest" href="/site.webmanifest">
    </head>
    <body>
        <div class="heading">
        <a href="/"> <img class="logo" src="https://cdn.glitch.global/638bdc36-d676-479e-8f39-ff81bc2e3bb1/contact%2Fimages%2Flogo.png?v=1735472051762" alt="limonee"width="500" sizes="50"></a>
        <ul>
            <li><a href="/limonade/">Limonade</a></li>
            <li><a href="/about/">Over ons</a></li>
            <li><a href="/contact/">Contact</a></li>
                                <li><a href="/game/">Spelletje</a></li>
                  <li><a href="/planning/">Planning</a></li>
                    <li><a href="/contact/bestelling/">Bestellen</a></li>
                              <li><a href="/smaken/">Onze smaken</a></li>
        </ul>
              <button onclick="window.location.href='http://eepurl.com/jcuxWM'; clickLimoneMail">Abonneer</button>

    <!-- Popup Form -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <span id="closePopup" class="close">&times;</span>
            <h2>Abonneer op de LimoneMail!</h2>
            <form action="https://formspree.io/f/manenqdz" method="POST">
              <input type="naam" name="naam" placeholder="Naam" required>
                <input type="email" name="email" placeholder="Email addres" required>
              <p>Selecteer waar je berichten van wilt krijgen:</p>
                <label>
                    <input type="checkbox" name="interests" value="dagen open"> Nieuwe dagen open
                </label><br>
                <label>
                    <input type="checkbox" name="interests" value="new taste"> Nieuwe smaken
                </label><br>                              <label>
                    <input type="checkbox" name="interests" value="news"> Nieuws
                </label><br>

                <button type="submit">Abonneer!</button>
              <a href="/limonemail/">Meer info.</a>
            </form>
        </div>
    </div>  <div class="notification">
    <p>Lekkere frisse limonade!</p>
    <button onclick="goToPage()">Bestel hier!</button>
    <button onclick="closeNotification()">X</button>
  </div>
              <div id="custom-menu">
        <ul>
            <li onclick="location.href='/';">Home</li>
        </ul>
    </div>
        <div class="agenda-container" id="agenda">
            <p id="agenda-header">Bekijk hieronder op welke dagen wij open zijn:</p>
            <ul class="agenda" id="agenda-list">
                <!-- Dynamische datums komen hier -->
              
            </ul>
        </div>
        <script>// script.js
const openDays = [
  //YYYY-MM-DD
    { date: '2025-04-20', location: 'Kortenaken, Krawatenstraat 21', time: '14:15 - 16:30' },
];
          // Haal opgeslagen extra dagen op (voor iedereen)
const extraDays = JSON.parse(localStorage.getItem("extraDays")) || [];

// Voeg ze toe aan de bestaande dagen
openDays = openDays.concat(extraDays);

const agendaList = document.getElementById("agenda-list");

// Functie om de lijst van open dagen dynamisch weer te geven
function generateAgenda() {
    // Zorg ervoor dat de lijst eerst leeg is om duplicaten te voorkomen
    agendaList.innerHTML = "";

    openDays.forEach(entry => {
        const date = new Date(entry.date);
        const listItem = document.createElement("li");

        // Converteer de datum naar een leesbaar formaat
        listItem.textContent = `${date.toLocaleDateString("nl-NL", { 
            weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
        })} - Wij zijn open van ${entry.time} in ${entry.location}`;

        listItem.classList.add("open");
        agendaList.appendChild(listItem);
    });
}

// Genereer de agenda
generateAgenda();
// Controleer of gebruiker admin is (badge in localStorage)
const opgeslagenBadges = JSON.parse(localStorage.getItem("badges")) || [];
const isAdmin = opgeslagenBadges.includes("admin");

if (isAdmin) {
  // Voeg de admin controls toe
  const adminForm = document.createElement("div");
  adminForm.innerHTML = `
    <h3 style="margin-top:2em;">üìÖ Admin: Voeg een dag toe</h3>
    <input type="date" id="adminDate" required>
    <input type="text" id="adminTime" placeholder="bv. 14:00 - 17:00" required>
    <input type="text" id="adminLoc" placeholder="bv. Kortenaken, Krawatenstraat 21" required>
    <button onclick="voegAdminDagToe()">Toevoegen</button>
    <p id="adminFeedback" style="color:green;"></p>
  `;
  document.getElementById("agenda").appendChild(adminForm);
}

// Functie om dag toe te voegen aan openDays en tonen
function voegAdminDagToe() {
  const datum = document.getElementById("adminDate").value;
  const tijd = document.getElementById("adminTime").value;
  const locatie = document.getElementById("adminLoc").value;

  if (!datum || !tijd || !locatie) {
    document.getElementById("adminFeedback").textContent = "‚ö†Ô∏è Vul alle velden in.";
    return;
  }

  openDays.push({ date: datum, time: tijd, location: locatie });
  generateAgenda();
  document.getElementById("adminFeedback").textContent = "‚úÖ Dag succesvol toegevoegd!";
}

            </script>
          <script src="https://formspree.io/js/formbutton-v1.min.js" defer></script>
          <script src="../script.js"></script>

            <br>
            <br>
            <br>
      </div>
    </body>
    <footer>
        <div class="footer">
          <p>&#169;2025 Limonee</p>
        </div>
    </footer>
</html>